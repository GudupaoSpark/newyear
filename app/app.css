@import "tailwindcss";

@font-face {
  font-family: 'Plus Jakarta Sans';
  src: url('/fonts/PlusJakartaSans-Variable.ttf') format('truetype-variations');
  font-weight: 200 800;
  font-style: normal;
  font-display: swap;
}

@theme {
  --font-sans: "Plus Jakarta Sans", ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

html, body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  :root {
    --nav-bg: rgba(255, 255, 255, 0.4);
    --nav-bg-scrolled: rgba(255, 255, 255, 0.6);
    --background: #ffffff;
    --foreground: #09090b;
    --accent: #dc2626; /* 新年红 */
    --accent-secondary: #f59e0b; /* 金橙 */
  }

  .dark {
    --nav-bg: rgba(9, 9, 11, 0.4);
    --nav-bg-scrolled: rgba(9, 9, 11, 0.6);
    --background: #09090b;
    --foreground: #fafafa;
    --accent: #ef4444;
    --accent-secondary: #fbbf24;
  }

  html {
    background-color: var(--background);
    color: var(--foreground);
    scroll-behavior: smooth;
  }
  
  html.dark {
    color-scheme: dark;
  }

  body {
    @apply min-h-screen selection:bg-red-500/30;
    background-color: var(--background);
    color: var(--foreground);
    background-image: 
      radial-gradient(circle at 0% 0%, rgba(220, 38, 38, 0.03) 0%, transparent 25%),
      radial-gradient(circle at 100% 100%, rgba(245, 158, 11, 0.03) 0%, transparent 25%);
  }

  .dark body {
    background-image: 
      radial-gradient(circle at 0% 0%, rgba(239, 68, 68, 0.05) 0%, transparent 25%),
      radial-gradient(circle at 100% 100%, rgba(251, 191, 36, 0.05) 0%, transparent 25%);
  }

  /* 切换时的全局平滑过渡 */
  html.theme-transitioning,
  html.theme-transitioning body,
  html.theme-transitioning *,
  html.theme-transitioning *::before,
  html.theme-transitioning *::after {
    transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                color 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                border-color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
                backdrop-filter 0.5s cubic-bezier(0.4, 0, 0.2, 1) !important;
  }

  *, ::before, ::after {
    @apply border-gray-200 dark:border-white/10;
  }

  /* 针对图片和图标的特殊处理 */
  img, svg {
    transition: opacity 0.3s ease;
  }
}

/* Navbar 特殊背景处理 */
.nav-container {
  background-color: var(--nav-bg);
  transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
              border-color 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}
